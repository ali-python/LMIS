{% extends 'base.html' %}

{% block content %}
    <div class="col-md-6">
        <br>
        <a href="{% url 'inventory:products_items_list' %}"><button type="button" id="back-product" class="btn btn-primary" id="load" data-loading-text="<i class='fa fa-circle-o-notch fa-spin'></i>Processing">Product List</button></a>
        <br><br><br>
        <div class="content-panel">
            <h3 class="text-center">{{ request.user.username }} <small>Product Update Form</small></h3>
             <span class="item_list_error text-center" style="color:red; display:none">item is already exist</span>
            <div class="panel-body">
                <form action="{% url 'inventory:update_product' pk=object.id %}" method="post" autocomplete="off">
                            {% csrf_token %}
                            <div class="row col-md-6" style="margin-left: auto; margin-right: auto;">
                                <label><strong>Companies</strong><span style="color:red">*</span></label>
                                    <select class="form-control form-control-alternative" name="company_name">
                                        <option value="{{object.company_name}}">{{object.company_name.name}}</option>>
                                    {% for company in companies %}
                                        <option value="{{company.id}}">{{company.name|title}}</option>
                                    {% endfor %}
                                    </select>
                            </div>
                            <br>
                            <br>
                            <br>
                            <br>
                            <div class="row" style="margin-left: auto; margin-right: auto;">
                                <div class="col-md-6  form-group">
                                    <label class="form-control-label"><b>Product Name</b> <span style="color:red">*</span></label>
                                    <input type="text" name="product_name" class="form-control form-control-alternative" placeholde
                                    r=">Product Name" value="{{object.product_name}}" required>
                                </div>
                            </div>
                            <div class="row" style="margin-left: auto; margin-right: auto;">
                                <div class="col-md-6  form-group">
                                <label><strong>Unit Type</strong></label>
                                    <input type="text" class="form-control unit_type" name="unit_type" placeholder="Unit Type" list="unit-list" value="{{object.unit_type}}">
                                    <datalist id="unit-list">
                                        <option value="Kilogram"></option>
                                        <option value="Gram"></option>
                                        <option value="Litre"></option>
                                        <option value="Quantity"></option>
                                    </datalist>
                                </div>
                            </div>
                            <div class="row" style="margin-left: auto; margin-right: auto;">
                                <div class="col-md-3  form-group" style="margin-right: auto; margin-left: auto;">
                                    <label class="form-control-label"></label>
                                    <button type="submit" id="add-product"  value="Create" class="btn btn-primary form-control add-product">Save</button>
                                </div>
                            </div>
                        </form>
            </div>
        </div>
    </div>
<script>

$('#back-product').on('click', function() {
    var $this = $(this);
  $this.button('loading');
    setTimeout(function() {
       $this.button('reset');
   }, 5000);
});

    </script>
{% endblock %}
